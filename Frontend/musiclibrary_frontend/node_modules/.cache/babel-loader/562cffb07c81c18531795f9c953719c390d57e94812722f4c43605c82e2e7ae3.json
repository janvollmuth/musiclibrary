{"ast":null,"code":"import _regeneratorRuntime from\"E:/Projects/musiclibrary/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"E:/Projects/musiclibrary/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"E:/Projects/musiclibrary/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{useState,useEffect}from\"react\";import Track from\"./Track\";import\"../components/TrackList.css\";import axios from\"axios\";import AddTrackModal from\"./AddTrackModal\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function TrackList(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),tracks=_useState2[0],setTracks=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showAddTrackModal=_useState4[0],setAddTrackModal=_useState4[1];useEffect(function(){fetch(\"http://localhost:8080/tracks\").then(function(response){return response.json();}).then(function(data){return setTracks(data);}).catch(function(err){return console.log(err);});},[]);function updateTrackList(){fetch(\"http://localhost:8080/tracks\").then(function(response){return response.json();}).then(function(data){return setTracks(data);}).catch(function(err){return console.log(err);});}function RemoveTrack(_x){return _RemoveTrack.apply(this,arguments);}function _RemoveTrack(){_RemoveTrack=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(id){var url;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:url=\"http://localhost:8080/tracks/\"+id.toString();_context.next=3;return axios.delete(url).then(function(response){console.log(\"Track successfully removed!\");}).catch(function(error){console.log(error);});case 3:updateTrackList();case 4:case\"end\":return _context.stop();}},_callee);}));return _RemoveTrack.apply(this,arguments);}function AddTrack(_x2){return _AddTrack.apply(this,arguments);}function _AddTrack(){_AddTrack=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(newTrack){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.post(\"http://localhost:8080/tracks\",newTrack).then(function(response){console.log(\"Track successfully added!\");}).catch(function(error){console.log(error);});case 2:updateTrackList();case 3:case\"end\":return _context2.stop();}},_callee2);}));return _AddTrack.apply(this,arguments);}function UpdateTrack(_x3,_x4){return _UpdateTrack.apply(this,arguments);}function _UpdateTrack(){_UpdateTrack=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(id,track){var url;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:url=\"http://localhost:8080/tracks/\"+id.toString();console.log(url);_context3.next=4;return axios.put(url,track).then(function(response){console.log(\"Track successfully updated!\");}).catch(function(error){console.log(error);});case 4:updateTrackList();case 5:case\"end\":return _context3.stop();}},_callee3);}));return _UpdateTrack.apply(this,arguments);}function CloseAddTrackModal(){setAddTrackModal(false);}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Favorite Tracks\"}),/*#__PURE__*/_jsxs(\"table\",{className:\"center\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Title\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Artist\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Genre\"}),/*#__PURE__*/_jsx(\"th\",{children:\"BPM\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Remove Track\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:tracks.map(function(track){return/*#__PURE__*/_jsx(Track,{data:track,onUpdate:UpdateTrack,onDelete:RemoveTrack});})})]}),/*#__PURE__*/_jsx(\"button\",{className:\"buttonAdd\",onClick:function onClick(){return setAddTrackModal(true);},children:\"Add Track\"}),/*#__PURE__*/_jsx(AddTrackModal,{isOpen:showAddTrackModal,onAdd:AddTrack,onClose:CloseAddTrackModal})]});}export default TrackList;","map":{"version":3,"names":["React","useState","useEffect","Track","axios","AddTrackModal","jsx","_jsx","jsxs","_jsxs","TrackList","_useState","_useState2","_slicedToArray","tracks","setTracks","_useState3","_useState4","showAddTrackModal","setAddTrackModal","fetch","then","response","json","data","catch","err","console","log","updateTrackList","RemoveTrack","_x","_RemoveTrack","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","id","url","wrap","_callee$","_context","prev","next","toString","delete","error","stop","AddTrack","_x2","_AddTrack","_callee2","newTrack","_callee2$","_context2","post","UpdateTrack","_x3","_x4","_UpdateTrack","_callee3","track","_callee3$","_context3","put","CloseAddTrackModal","children","className","map","onUpdate","onDelete","onClick","isOpen","onAdd","onClose"],"sources":["E:/Projects/musiclibrary/src/components/TrackList.tsx"],"sourcesContent":["import React from \"react\";\r\nimport { useState, useEffect } from \"react\";\r\nimport Track from \"./Track\";\r\nimport { TrackType } from \"../types/Types\";\r\nimport \"../components/TrackList.css\";\r\nimport axios from \"axios\";\r\nimport AddTrackModal from \"./AddTrackModal\";\r\n\r\n\r\nfunction TrackList() {\r\n  const [tracks, setTracks] = useState([]);\r\n  const [showAddTrackModal, setAddTrackModal] = useState(false);\r\n\r\n  useEffect(() => {\r\n    fetch(\"http://localhost:8080/tracks\")\r\n      .then((response) => response.json())\r\n      .then((data) => setTracks(data))\r\n      .catch((err) => console.log(err));\r\n  }, []);\r\n\r\n  function updateTrackList() {\r\n    fetch(\"http://localhost:8080/tracks\")\r\n      .then((response) => response.json())\r\n      .then((data) => setTracks(data))\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  async function RemoveTrack(id: number) {\r\n    var url = \"http://localhost:8080/tracks/\" + id.toString();\r\n\r\n    await axios\r\n      .delete(url)\r\n      .then((response) => {\r\n        console.log(\"Track successfully removed!\");\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n      updateTrackList();\r\n  }\r\n\r\n  async function AddTrack(newTrack: TrackType) {\r\n    await axios\r\n      .post(\"http://localhost:8080/tracks\", newTrack)\r\n      .then((response) => {\r\n        console.log(\"Track successfully added!\");\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n      updateTrackList();\r\n  }\r\n\r\n  async function UpdateTrack(id: number, track: TrackType) {\r\n    var url = \"http://localhost:8080/tracks/\" + id.toString();\r\n    console.log(url);\r\n    await axios.put(url, track)\r\n    .then((response) => {\r\n        console.log(\"Track successfully updated!\");\r\n    })\r\n    .catch((error) => {\r\n        console.log(error);\r\n    })\r\n    updateTrackList();\r\n  }\r\n\r\n  function CloseAddTrackModal() {\r\n    setAddTrackModal(false);\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>Favorite Tracks</h2>\r\n      <table className=\"center\">\r\n        <thead>\r\n          <tr>\r\n            <th>Title</th>\r\n            <th>Artist</th>\r\n            <th>Genre</th>\r\n            <th>BPM</th>\r\n            <th>Remove Track</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {tracks.map((track: TrackType) => (\r\n            <Track data={track} onUpdate={UpdateTrack} onDelete={RemoveTrack} />\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n      <button className=\"buttonAdd\" onClick={() => setAddTrackModal(true)}>\r\n        Add Track\r\n      </button>\r\n      <AddTrackModal isOpen={showAddTrackModal} onAdd={AddTrack} onClose={CloseAddTrackModal}/>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default TrackList;\r\n"],"mappings":"0VAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,MAAO,CAAAC,KAAK,KAAM,SAAS,CAE3B,MAAO,6BAA6B,CACpC,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,aAAa,KAAM,iBAAiB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAG5C,QAAS,CAAAC,SAASA,CAAA,CAAG,CACnB,IAAAC,SAAA,CAA4BV,QAAQ,CAAC,EAAE,CAAC,CAAAW,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAjCG,MAAM,CAAAF,UAAA,IAAEG,SAAS,CAAAH,UAAA,IACxB,IAAAI,UAAA,CAA8Cf,QAAQ,CAAC,KAAK,CAAC,CAAAgB,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAAtDE,iBAAiB,CAAAD,UAAA,IAAEE,gBAAgB,CAAAF,UAAA,IAE1Cf,SAAS,CAAC,UAAM,CACdkB,KAAK,CAAC,8BAA8B,CAAC,CAClCC,IAAI,CAAC,SAACC,QAAQ,QAAK,CAAAA,QAAQ,CAACC,IAAI,EAAE,GAAC,CACnCF,IAAI,CAAC,SAACG,IAAI,QAAK,CAAAT,SAAS,CAACS,IAAI,CAAC,GAAC,CAC/BC,KAAK,CAAC,SAACC,GAAG,QAAK,CAAAC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,GAAC,CACrC,CAAC,CAAE,EAAE,CAAC,CAEN,QAAS,CAAAG,eAAeA,CAAA,CAAG,CACzBT,KAAK,CAAC,8BAA8B,CAAC,CAClCC,IAAI,CAAC,SAACC,QAAQ,QAAK,CAAAA,QAAQ,CAACC,IAAI,EAAE,GAAC,CACnCF,IAAI,CAAC,SAACG,IAAI,QAAK,CAAAT,SAAS,CAACS,IAAI,CAAC,GAAC,CAC/BC,KAAK,CAAC,SAACC,GAAG,QAAK,CAAAC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,GAAC,CACrC,CAAC,QAEc,CAAAI,WAAWA,CAAAC,EAAA,SAAAC,YAAA,CAAAC,KAAA,MAAAC,SAAA,YAAAF,aAAA,EAAAA,YAAA,CAAAG,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAA1B,SAAAC,QAA2BC,EAAU,MAAAC,GAAA,QAAAJ,mBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAC/BL,GAAG,CAAG,+BAA+B,CAAGD,EAAE,CAACO,QAAQ,EAAE,CAAAH,QAAA,CAAAE,IAAA,SAEnD,CAAAzC,KAAK,CACR2C,MAAM,CAACP,GAAG,CAAC,CACXnB,IAAI,CAAC,SAACC,QAAQ,CAAK,CAClBK,OAAO,CAACC,GAAG,CAAC,6BAA6B,CAAC,CAC5C,CAAC,CAAC,CACDH,KAAK,CAAC,SAACuB,KAAK,CAAK,CAChBrB,OAAO,CAACC,GAAG,CAACoB,KAAK,CAAC,CACpB,CAAC,CAAC,QACFnB,eAAe,EAAE,CAAC,wBAAAc,QAAA,CAAAM,IAAA,MAAAX,OAAA,GACrB,UAAAN,YAAA,CAAAC,KAAA,MAAAC,SAAA,WAEc,CAAAgB,QAAQA,CAAAC,GAAA,SAAAC,SAAA,CAAAnB,KAAA,MAAAC,SAAA,YAAAkB,UAAA,EAAAA,SAAA,CAAAjB,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAvB,SAAAgB,SAAwBC,QAAmB,SAAAlB,mBAAA,GAAAK,IAAA,UAAAc,UAAAC,SAAA,iBAAAA,SAAA,CAAAZ,IAAA,CAAAY,SAAA,CAAAX,IAAA,SAAAW,SAAA,CAAAX,IAAA,SACnC,CAAAzC,KAAK,CACRqD,IAAI,CAAC,8BAA8B,CAAEH,QAAQ,CAAC,CAC9CjC,IAAI,CAAC,SAACC,QAAQ,CAAK,CAClBK,OAAO,CAACC,GAAG,CAAC,2BAA2B,CAAC,CAC1C,CAAC,CAAC,CACDH,KAAK,CAAC,SAACuB,KAAK,CAAK,CAChBrB,OAAO,CAACC,GAAG,CAACoB,KAAK,CAAC,CACpB,CAAC,CAAC,QACFnB,eAAe,EAAE,CAAC,wBAAA2B,SAAA,CAAAP,IAAA,MAAAI,QAAA,GACrB,UAAAD,SAAA,CAAAnB,KAAA,MAAAC,SAAA,WAEc,CAAAwB,WAAWA,CAAAC,GAAA,CAAAC,GAAA,SAAAC,YAAA,CAAA5B,KAAA,MAAAC,SAAA,YAAA2B,aAAA,EAAAA,YAAA,CAAA1B,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAA1B,SAAAyB,SAA2BvB,EAAU,CAAEwB,KAAgB,MAAAvB,GAAA,QAAAJ,mBAAA,GAAAK,IAAA,UAAAuB,UAAAC,SAAA,iBAAAA,SAAA,CAAArB,IAAA,CAAAqB,SAAA,CAAApB,IAAA,SACjDL,GAAG,CAAG,+BAA+B,CAAGD,EAAE,CAACO,QAAQ,EAAE,CACzDnB,OAAO,CAACC,GAAG,CAACY,GAAG,CAAC,CAACyB,SAAA,CAAApB,IAAA,SACX,CAAAzC,KAAK,CAAC8D,GAAG,CAAC1B,GAAG,CAAEuB,KAAK,CAAC,CAC1B1C,IAAI,CAAC,SAACC,QAAQ,CAAK,CAChBK,OAAO,CAACC,GAAG,CAAC,6BAA6B,CAAC,CAC9C,CAAC,CAAC,CACDH,KAAK,CAAC,SAACuB,KAAK,CAAK,CACdrB,OAAO,CAACC,GAAG,CAACoB,KAAK,CAAC,CACtB,CAAC,CAAC,QACFnB,eAAe,EAAE,CAAC,wBAAAoC,SAAA,CAAAhB,IAAA,MAAAa,QAAA,GACnB,UAAAD,YAAA,CAAA5B,KAAA,MAAAC,SAAA,GAED,QAAS,CAAAiC,kBAAkBA,CAAA,CAAG,CAC5BhD,gBAAgB,CAAC,KAAK,CAAC,CACzB,CAEA,mBACEV,KAAA,QAAA2D,QAAA,eACE7D,IAAA,OAAA6D,QAAA,CAAI,iBAAe,EAAK,cACxB3D,KAAA,UAAO4D,SAAS,CAAC,QAAQ,CAAAD,QAAA,eACvB7D,IAAA,UAAA6D,QAAA,cACE3D,KAAA,OAAA2D,QAAA,eACE7D,IAAA,OAAA6D,QAAA,CAAI,OAAK,EAAK,cACd7D,IAAA,OAAA6D,QAAA,CAAI,QAAM,EAAK,cACf7D,IAAA,OAAA6D,QAAA,CAAI,OAAK,EAAK,cACd7D,IAAA,OAAA6D,QAAA,CAAI,KAAG,EAAK,cACZ7D,IAAA,OAAA6D,QAAA,CAAI,cAAY,EAAK,GAClB,EACC,cACR7D,IAAA,UAAA6D,QAAA,CACGtD,MAAM,CAACwD,GAAG,CAAC,SAACP,KAAgB,qBAC3BxD,IAAA,CAACJ,KAAK,EAACqB,IAAI,CAAEuC,KAAM,CAACQ,QAAQ,CAAEb,WAAY,CAACc,QAAQ,CAAE1C,WAAY,EAAG,EACrE,CAAC,EACI,GACF,cACRvB,IAAA,WAAQ8D,SAAS,CAAC,WAAW,CAACI,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAAtD,gBAAgB,CAAC,IAAI,CAAC,EAAC,CAAAiD,QAAA,CAAC,WAErE,EAAS,cACT7D,IAAA,CAACF,aAAa,EAACqE,MAAM,CAAExD,iBAAkB,CAACyD,KAAK,CAAEzB,QAAS,CAAC0B,OAAO,CAAET,kBAAmB,EAAE,GACrF,CAEV,CAEA,cAAe,CAAAzD,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}